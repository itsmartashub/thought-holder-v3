<template>
	<main class="notes-home">
		<section class="new-note__wrapper">
			<svg
				class="new-note__svg"
				xmlns="http://www.w3.org/2000/svg"
				width="895.59736"
				height="639.82439"
				viewBox="0 0 895.59736 639.82439"
			>
				<rect
					x="250.162"
					y="150.83166"
					width="207.97236"
					height="302.01031"
					rx="13.4354"
					transform="translate(-210.09179 -44.46974) rotate(-12.75221)"
					fill="#3f3d56"
				/>
				<circle cx="87.59736" cy="87" r="6" fill="#fff" />
				<circle cx="93.59736" cy="109" r="6" fill="#fff" />
				<circle cx="132.59736" cy="270" r="6" fill="#fff" />
				<circle cx="138.59736" cy="292" r="6" fill="#fff" />
				<rect
					x="287.34855"
					y="259.69755"
					width="124.87617"
					height="20.8127"
					transform="translate(-203.1948 -46.21522) rotate(-12.75221)"
					fill="#f5f5f5"
				/>
				<rect
					x="397.94823"
					y="256.36244"
					width="207.97236"
					height="302.01031"
					transform="translate(-229.7408 -9.24511) rotate(-12.75221)"
					fill="var(--blue)"
				/>
				<rect
					x="611.85483"
					y="207.95166"
					width="207.97236"
					height="302.01031"
					transform="translate(-213.77859 36.77746) rotate(-12.75221)"
					fill="#3f3d56"
				/>
				<rect
					x="411.34855"
					y="292.69755"
					width="124.87617"
					height="20.8127"
					transform="translate(-207.42045 -18.03009) rotate(-12.75221)"
					fill="#f5f5f5"
				/>
				<rect
					x="399.91546"
					y="341.94676"
					width="166.50156"
					height="5.20317"
					transform="translate(-216.33734 -14.93741) rotate(-12.75221)"
					fill="#f5f5f5"
				/>
				<rect
					x="402.59534"
					y="353.78804"
					width="166.50156"
					height="5.20317"
					transform="translate(-218.88502 -14.05378) rotate(-12.75221)"
					fill="#f5f5f5"
				/>
				<rect
					x="405.27523"
					y="365.62931"
					width="166.50156"
					height="5.20317"
					transform="translate(-221.4327 -13.17016) rotate(-12.75221)"
					fill="#f5f5f5"
				/>
				<rect
					x="409.02463"
					y="387.04161"
					width="79.782"
					height="5.20317"
					transform="translate(-227.13618 -21.3854) rotate(-12.75221)"
					fill="#f5f5f5"
				/>
				<rect
					x="411.55479"
					y="397.54294"
					width="91.92274"
					height="5.20317"
					transform="translate(-229.24205 -19.22793) rotate(-12.75221)"
					fill="#f5f5f5"
				/>
				<rect
					x="413.31489"
					y="401.15313"
					width="166.50156"
					height="5.20317"
					transform="translate(-229.07574 -10.51929) rotate(-12.75221)"
					fill="#f5f5f5"
				/>
				<rect
					x="415.99477"
					y="412.9944"
					width="166.50156"
					height="5.20317"
					transform="translate(-231.62342 -9.63567) rotate(-12.75221)"
					fill="#f5f5f5"
				/>
				<rect
					x="418.82439"
					y="426.17562"
					width="154.36082"
					height="5.20317"
					transform="translate(-234.61292 -10.02588) rotate(-12.75221)"
					fill="#f5f5f5"
				/>
				<rect
					x="421.35455"
					y="436.67695"
					width="166.50156"
					height="5.20317"
					transform="translate(-236.71878 -7.86842) rotate(-12.75221)"
					fill="#f5f5f5"
				/>
				<rect
					x="425.01839"
					y="457.32356"
					width="86.71956"
					height="5.20317"
					transform="translate(-242.1698 -15.35575) rotate(-12.75221)"
					fill="#f5f5f5"
				/>
				<rect
					x="647.92631"
					y="420.51287"
					width="91.92274"
					height="5.20317"
					transform="translate(-228.48193 33.51412) rotate(-12.75221)"
					fill="var(--blue)"
					opacity="0.3"
				/>
				<rect
					x="649.68641"
					y="424.12307"
					width="166.50156"
					height="5.20317"
					transform="translate(-228.31563 42.22276) rotate(-12.75221)"
					fill="var(--blue)"
					opacity="0.3"
				/>
				<rect
					x="652.36629"
					y="435.96434"
					width="166.50156"
					height="5.20317"
					transform="translate(-230.86331 43.10638) rotate(-12.75221)"
					fill="var(--blue)"
					opacity="0.3"
				/>
				<rect
					x="655.19591"
					y="449.14556"
					width="154.36082"
					height="5.20317"
					transform="translate(-233.8528 42.71617) rotate(-12.75221)"
					fill="var(--blue)"
					opacity="0.3"
				/>
				<rect
					x="657.72606"
					y="459.64689"
					width="166.50156"
					height="5.20317"
					transform="translate(-235.95867 44.87363) rotate(-12.75221)"
					fill="var(--blue)"
					opacity="0.3"
				/>
				<rect
					x="497.42189"
					y="461.51781"
					width="100.59469"
					height="69.37565"
					transform="translate(-248.22113 3.0525) rotate(-12.75221)"
					fill="#f5f5f5"
				/>
				<rect
					x="613.5551"
					y="236.07039"
					width="100.59469"
					height="69.37565"
					transform="translate(-195.59243 23.12624) rotate(-12.75221)"
					fill="var(--blue)"
					opacity="0.3"
				/>
				<rect
					x="709.58529"
					y="306.8063"
					width="100.59469"
					height="69.37565"
					transform="translate(-208.83762 46.06825) rotate(-12.75221)"
					fill="var(--blue)"
					opacity="0.3"
				/>
				<g opacity="0.5">
					<rect
						x="185.59736"
						y="510.28636"
						width="3"
						height="17"
						fill="#47e6b1"
					/>
					<rect
						x="337.79868"
						y="640.37417"
						width="3"
						height="17"
						transform="translate(835.97153 179.48768) rotate(90)"
						fill="#47e6b1"
					/>
				</g>
				<g opacity="0.5">
					<rect x="512.59736" width="3" height="17" fill="#47e6b1" />
					<rect
						x="664.79868"
						y="130.08781"
						width="3"
						height="17"
						transform="translate(652.68517 -657.79868) rotate(90)"
						fill="#47e6b1"
					/>
				</g>
				<g opacity="0.5">
					<rect
						x="885.59736"
						y="125"
						width="3"
						height="17"
						fill="#47e6b1"
					/>
					<rect
						x="1037.79868"
						y="255.08781"
						width="3"
						height="17"
						transform="translate(1150.68517 -905.79868) rotate(90)"
						fill="#47e6b1"
					/>
				</g>
				<path
					d="M512.491,638.67962a3.67461,3.67461,0,0,1-2.04749-4.441,1.766,1.766,0,0,0,.07991-.40754h0a1.84258,1.84258,0,0,0-3.31045-1.22119h0a1.76564,1.76564,0,0,0-.2039.3618,3.6746,3.6746,0,0,1-4.441,2.04748,1.76645,1.76645,0,0,0-.40754-.0799h0a1.84257,1.84257,0,0,0-1.22119,3.31045h0a1.76637,1.76637,0,0,0,.3618.2039,3.67459,3.67459,0,0,1,2.04749,4.441,1.766,1.766,0,0,0-.0799.40754h0a1.84257,1.84257,0,0,0,3.31044,1.22119h0a1.76584,1.76584,0,0,0,.2039-.3618,3.67459,3.67459,0,0,1,4.441-2.04748,1.766,1.766,0,0,0,.40754.0799h0a1.84257,1.84257,0,0,0,1.22119-3.31045h0A1.7661,1.7661,0,0,0,512.491,638.67962Z"
					transform="translate(-152.20132 -130.08781)"
					fill="#4d8af0"
					opacity="0.5"
				/>
				<path
					d="M658.68918,763.33049a3.6746,3.6746,0,0,1-2.04749-4.441,1.76592,1.76592,0,0,0,.0799-.40754h0a1.84257,1.84257,0,0,0-3.31044-1.22119h0a1.76637,1.76637,0,0,0-.2039.3618,3.67459,3.67459,0,0,1-4.441,2.04749,1.766,1.766,0,0,0-.40754-.0799h0a1.84257,1.84257,0,0,0-1.22119,3.31044h0a1.7661,1.7661,0,0,0,.3618.2039,3.67461,3.67461,0,0,1,2.04749,4.441,1.766,1.766,0,0,0-.07991.40754h0a1.84258,1.84258,0,0,0,3.31045,1.22119h0a1.76564,1.76564,0,0,0,.2039-.3618,3.67462,3.67462,0,0,1,4.441-2.04749,1.76594,1.76594,0,0,0,.40754.07991h0a1.84257,1.84257,0,0,0,1.22119-3.31045h0A1.7659,1.7659,0,0,0,658.68918,763.33049Z"
					transform="translate(-152.20132 -130.08781)"
					fill="#4d8af0"
					opacity="0.5"
				/>
				<path
					d="M164.491,341.39326a3.67462,3.67462,0,0,1-2.04749-4.441,1.76594,1.76594,0,0,0,.07991-.40754h0a1.84257,1.84257,0,0,0-3.31045-1.22119h0a1.7659,1.7659,0,0,0-.2039.3618,3.6746,3.6746,0,0,1-4.441,2.04749,1.76646,1.76646,0,0,0-.40754-.07991h0a1.84257,1.84257,0,0,0-1.22119,3.31045h0a1.76684,1.76684,0,0,0,.3618.2039,3.67458,3.67458,0,0,1,2.04749,4.441,1.76592,1.76592,0,0,0-.0799.40754h0a1.84257,1.84257,0,0,0,3.31044,1.22119h0a1.76637,1.76637,0,0,0,.2039-.3618,3.67459,3.67459,0,0,1,4.441-2.04749,1.766,1.766,0,0,0,.40754.07991h0a1.84258,1.84258,0,0,0,1.22119-3.31045h0A1.76606,1.76606,0,0,0,164.491,341.39326Z"
					transform="translate(-152.20132 -130.08781)"
					fill="#4d8af0"
					opacity="0.5"
				/>
				<path
					d="M1029.68918,493.33049a3.6746,3.6746,0,0,1-2.04749-4.441,1.76592,1.76592,0,0,0,.0799-.40754h0a1.84257,1.84257,0,0,0-3.31044-1.22119h0a1.76637,1.76637,0,0,0-.2039.3618,3.67459,3.67459,0,0,1-4.441,2.04749,1.766,1.766,0,0,0-.40754-.0799h0a1.84257,1.84257,0,0,0-1.22119,3.31044h0a1.7661,1.7661,0,0,0,.3618.2039,3.67461,3.67461,0,0,1,2.04749,4.441,1.766,1.766,0,0,0-.07991.40754h0a1.84258,1.84258,0,0,0,3.31045,1.22119h0a1.76564,1.76564,0,0,0,.2039-.3618,3.67462,3.67462,0,0,1,4.441-2.04749,1.76594,1.76594,0,0,0,.40754.07991h0a1.84257,1.84257,0,0,0,1.22119-3.31045h0A1.7659,1.7659,0,0,0,1029.68918,493.33049Z"
					transform="translate(-152.20132 -130.08781)"
					fill="#4d8af0"
					opacity="0.5"
				/>
				<circle
					cx="107.59736"
					cy="455.28636"
					r="6"
					fill="#f55f44"
					opacity="0.5"
				/>
				<circle
					cx="321.59736"
					cy="6"
					r="6"
					fill="#4d8af0"
					opacity="0.5"
				/>
				<circle
					cx="463.79555"
					cy="457.93723"
					r="6"
					fill="#47e6b1"
					opacity="0.5"
				/>
				<circle
					cx="809.79555"
					cy="607.93723"
					r="6"
					fill="#f55f44"
					opacity="0.5"
				/>
				<rect
					x="688.162"
					y="277.83166"
					width="207.97236"
					height="302.01031"
					rx="13.4354"
					transform="translate(-227.32135 55.3448) rotate(-12.75221)"
					fill="var(--blue)"
				/>
				<circle cx="525.59736" cy="214" r="6" fill="#fff" />
				<circle cx="531.59736" cy="236" r="6" fill="#fff" />
				<circle cx="570.59736" cy="397" r="6" fill="#fff" />
				<circle cx="576.59736" cy="419" r="6" fill="#fff" />
				<rect
					x="725.34855"
					y="386.69755"
					width="124.87617"
					height="20.8127"
					transform="translate(-220.42436 53.59932) rotate(-12.75221)"
					fill="#f5f5f5"
				/>
			</svg>

			<NewNote />

			<div id="first-pinned-note"></div>
		</section>

		<section class="notes-home__filled " v-if="GET_NOTES.length > 0">
			<transition name="bounce" mode="out-in">
				<section
					class="notes-home__pinned-notes"
					v-if="GET_PINNED.length > 0"
				>
					<a href="#first-pinned-note">
						<h4 class="notes-home__pinned-title h4">
							<i class="mdi mdi-pin"></i> Pinned Notes
						</h4>
					</a>
					<transition-group
						tag="div"
						name="bounce"
						mode="out-in"
						class="notes m-auto"
					>
						<template v-for="(note, key) in GET_PINNED">
							<Note
								:key="key"
								:note="note"
								:index="key"
								v-if="note.pinned && !note.archived"
							/>
						</template>
					</transition-group>
				</section>
			</transition>

			<section class="notes-home__unpinned-notes">
				<h4 class="notes-home__unpinned-title h4">
					<i class="mdi mdi-note"></i>OTHERS
				</h4>
				<transition-group
					tag="div"
					class="notes m-auto grid"
					name="bounce"
				>
					<template v-for="(note, key) in GET_NOTES">
						<Note
							:key="key"
							:note="note"
							:index="key"
							v-if="!note.pinned && !note.archived"
						/>
					</template>
				</transition-group>
			</section>
		</section>

		<section v-else class="no-notes">
			<h1 class="logo mt-5">
				<i class="mdi mdi-format-strikethrough"></i> Thoughts<strong
					>Holder</strong
				>
			</h1>
			<h2>Notes you add appear here</h2>
		</section>

		<button
			class="new-note__float-btn"
			@click.prevent="mobileShowNewNote()"
		>
			+
		</button>
	</main>
</template>

<script>
import NewNote from "@/components/note/NewNote"
import Note from "@/components/note/Note"
import { mapGetters } from "vuex"

export default {
	name: "notes",

	components: {
		NewNote,
		Note,
	},

	data() {
		return {
			isPinned: false,
			newNoteDisplayed: false,
		}
	},

	computed: {
		...mapGetters({
			GET_NOTES: "GET_NOTES",
			GET_PINNED: "GET_PINNED",

			GET_MOBILE_NEWNOTE_OPEN: "GET_MOBILE_NEWNOTE_OPEN",
		}),

		is_pinned: {
			get() {
				return isPinned
			},
			set(newValue) {
				this.isPinned = newValue
			},
		},

		is_mobile_newnote_open: {
			get() {
				return this.GET_MOBILE_NEWNOTE_OPEN
			},
			set(newValue) {
				this.$store.commit("ui/SET_MOBILE_NEWNOTE_OPEN", newValue)
			},
		},
	},

	methods: {
		mobileShowNewNote() {
			this.is_mobile_newnote_open = true
			document
				.querySelector(".new-note__wrapper")
				.classList.add("new-note__wrapper--show")
		},
	},
}
</script>
